<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <title>Результаты поиска</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
<header>
    <h1>Результаты поиска</h1>
</header>
<main>
    <div id="bookGrid" class="book-grid"></div>
</main>
<script>
    const params = new URLSearchParams(window.location.search);
    const query = params.get('query');
    fetch(`/api/search?query=${encodeURIComponent(query)}`)
        .then(res => res.json())
        .then(books => renderBooks(books));

    function renderBooks(books) {
        const grid = document.getElementById("bookGrid");
        grid.innerHTML = books.map(book => `
        <div class="book" onclick="location.href='/book.html?id=${book.id}'">
          <img src="${book.cover}" alt="${book.title}" />
          <h3>${book.title}</h3>
          <p>${book.author}</p>
        </div>
      `).join('');
    }
</script>
</body>
</html>
